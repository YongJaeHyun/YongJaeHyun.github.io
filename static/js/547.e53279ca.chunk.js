"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[547],{547:(i,s,t)=>{t.d(s,{SimplexNoiseGenerator:()=>h});var o=t(4864),e=t(765);const n={size:20,increment:.004,columns:0,rows:0,layers:0,width:0,height:0,offset:{x:4e4,y:4e4,z:4e4}};class h{constructor(){const i=new e.e;this._simplex=i.noise4d,this.field=[],this.noiseW=0,this.options=(0,o.Ww)({},n)}generate(i){var s;const t=i.getPosition(),e=Math.max(Math.floor(t.x/this.options.size),0),n=Math.max(Math.floor(t.y/this.options.size),0),h=Math.max(Math.floor(t.z/this.options.size),0),l=o.Cg.origin;return null!==(s=this.field)&&void 0!==s&&null!==(s=s[e])&&void 0!==s&&null!==(s=s[n])&&void 0!==s&&s[h]?(l.setTo(this.field[e][n][h]),Promise.resolve(l)):Promise.resolve(l)}async init(i){this.container=i,this._setup(),await Promise.resolve()}reset(){}update(){this.container&&(this._calculateField(),this.noiseW+=this.options.increment)}_calculateField(){const i=this.options;for(let s=0;s<i.columns;s++)for(let t=0;t<i.rows;t++)for(let o=0;o<i.layers;o++)this.field[s][t][o].angle=this._simplex.noise(s/50,t/50,o/50,this.noiseW)*Math.PI*2,this.field[s][t][o].length=this._simplex.noise(s/100+i.offset.x,t/100+i.offset.y,o/100+i.offset.z,this.noiseW)}_initField(){this.field=new Array(this.options.columns);for(let i=0;i<this.options.columns;i++){this.field[i]=new Array(this.options.rows);for(let s=0;s<this.options.rows;s++){this.field[i][s]=new Array(this.options.layers);for(let t=0;t<this.options.layers;t++)this.field[i][s][t]=o.Cg.origin}}}_resetField(){var i,s,t,e,h;const l=this.container;if(!l)return;const r=l.actualOptions.particles.move.path.options;this.options.size=r.size>0?r.size:n.size,this.options.increment=r.increment>0?r.increment:n.increment,this.options.width=l.canvas.size.width,this.options.height=l.canvas.size.height;const a=r.offset;this.options.offset.x=null!==(i=null===a||void 0===a?void 0:a.x)&&void 0!==i?i:n.offset.x,this.options.offset.y=null!==(s=null===a||void 0===a?void 0:a.y)&&void 0!==s?s:n.offset.y,this.options.offset.z=null!==(t=null===a||void 0===a?void 0:a.z)&&void 0!==t?t:n.offset.z,this.options.seed=null!==(e=r.seed)&&void 0!==e?e:n.seed,this._simplex.seed(null!==(h=this.options.seed)&&void 0!==h?h:(0,o.CE)()),this.options.columns=Math.floor(this.options.width/this.options.size)+1,this.options.rows=Math.floor(this.options.height/this.options.size)+1,this.options.layers=Math.floor(l.zLayers/this.options.size)+1,this._initField()}_setup(){this.noiseW=0,this._resetField(),addEventListener("resize",(()=>this._resetField()))}}}}]);
//# sourceMappingURL=547.e53279ca.chunk.js.map