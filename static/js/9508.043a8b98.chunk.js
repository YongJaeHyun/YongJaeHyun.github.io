"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[9508],{9508:(i,t,s)=>{s.d(t,{PoissonInstance:()=>h});var o=s(4864);const e=2*Math.PI;class n{constructor(i,t,s,o,e){this.size={...i},this.radius=t,this.retries=s,this.dimensions=o,this.cellSize=Math.floor(this.radius/Math.sqrt(this.dimensions)),this.cols=Math.floor(this.size.width/this.cellSize),this.rows=Math.floor(this.size.height/this.cellSize),this.points=[],this.active=[],this.grid=[],this.firstPoint=e?{...e}:void 0,this.reset()}addPoint(i){const t={position:{...i},gridPosition:{x:Math.floor(i.x/this.cellSize),y:Math.floor(i.y/this.cellSize)}},s=this.points.length;this.points.push(t),this.grid[t.gridPosition.y][t.gridPosition.x]=s,this.active.push(s)}getRandom(i,t){return Math.floor((0,o.CE)()*(t-i))+i}initialiseGrid(){for(let i=0;i<=this.rows;i++){this.grid[i]=[];for(let t=0;t<=this.cols;t++)this.grid[i][t]=-1}}reset(){if(this.points=[],this.active=[],this.grid=[],this.initialiseGrid(),this.firstPoint)this.addPoint(this.firstPoint);else{const i=0;this.addPoint({x:this.getRandom(i,this.size.width),y:this.getRandom(i,this.size.height)})}}async run(){this.reset();for(;this.active.length>0;)await this.steps(1)}async steps(i){for(let t=0;t<i;t++)this.active.length<=0||await this._step()}_getNewPoint(i,t){const s=t*(e/this.retries),n=this.getRandom(this.radius,2*this.radius),h=Math.cos(s)*n,r=Math.sin(s)*n,a={x:Math.floor(i.position.x+h),y:Math.floor(i.position.y+r)},l=Math.floor(a.x/this.cellSize),c=Math.floor(a.y/this.cellSize);if(a.x>0&&a.x<this.size.width&&a.y>0&&a.y<this.size.height&&this.grid[c][l]<0){for(let i=-1;i<=1;i++)for(let t=-1;t<=1;t++){const s={x:l+t,y:c+i};if(s.x>=0&&s.y>=0&&s.x<this.cols&&s.y<this.rows&&(s.x!==l||s.y!==c)&&this.grid[s.y][s.x]>=0){const i=this.grid[s.y][s.x],t=this.points[i];if((0,o.c$)(a,t.position)<this.radius)return}}return a}}async _step(){const i=this.getRandom(0,this.active.length);return new Promise((t=>{let s=!1;for(let o=0;o<this.retries;o++){const t=this._getNewPoint(this.points[this.active[i]],o);if(t){s=!0,this.addPoint(t);break}}if(!s){const t=1;this.active.splice(i,t)}t()}))}}class h{constructor(i,t){this._container=i,this._engine=t,this._currentIndex=0}async init(){await this._initData()}particlePosition(i){var t,s;const o=this._container.actualOptions.poisson;if(this.poissonDisc&&null!==(t=null===o||void 0===o?void 0:o.enable)&&void 0!==t&&t&&!(this._currentIndex>=this.poissonDisc.points.length))return null!==i&&void 0!==i?i:null===(s=this.poissonDisc)||void 0===s||null===(s=s.points[this._currentIndex++])||void 0===s?void 0:s.position}resize(){var i;const t=this._container,s=t.actualOptions.poisson;if(null===(i=null===s||void 0===s?void 0:s.enable)||void 0===i||!i)return;this.redrawTimeout&&clearTimeout(this.redrawTimeout);this.redrawTimeout=window.setTimeout((()=>{(async()=>{await this._initData(),await t.particles.redraw()})()}),250)}stop(){delete this.poissonDisc}async _initData(){const i=this._container,t=i.actualOptions.poisson,s=i.actualOptions.particles,e=i.canvas.size,h=i.retina.pixelRatio;if(null===t||void 0===t||!t.enable)return;this._currentIndex=0,this.poissonDisc=new n(e,t.radius?t.radius*h:Math.max((0,o.GO)(s.size.value)*h,Math.sqrt(e.width*e.height/s.number.value)),t.retries,t.dimensions);t.steps>0?await this.poissonDisc.steps(t.steps):await this.poissonDisc.run()}}}}]);
//# sourceMappingURL=9508.043a8b98.chunk.js.map